<div class="modal fade" id="mediaModal{{ post.id }}">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content bg-dark">
            <div class="modal-body p-0">

                <div id="carousel{{ post.id }}" class="carousel slide" data-bs-ride="false">
                    <div class="carousel-inner">

                        {% for file in media_files %}
                        <div class="carousel-item {% if forloop.first %}active{% endif %}">
                            {% if file.file_type == "image" %}
                                <img src="{{ file.file.url }}"
                                     class="d-block w-100"
                                     style="max-height: 90vh; object-fit: contain;">
                            {% elif file.file_type == "video" %}
                                <video controls class="d-block w-100" style="max-height:90vh;">
                                    <source src="{{ file.file.url }}">
                                </video>
                            {% endif %}
                        </div>
                        {% endfor %}

                    </div>
                    <button class="carousel-control-prev" type="button"
                            data-bs-target="#carousel{{ post.id }}" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon"></span>
                    </button>

                    <button class="carousel-control-next" type="button"
                            data-bs-target="#carousel{{ post.id }}" data-bs-slide="next">
                        <span class="carousel-control-next-icon"></span>
                    </button>

                </div>
            </div>
        </div>
    </div>
</div>
